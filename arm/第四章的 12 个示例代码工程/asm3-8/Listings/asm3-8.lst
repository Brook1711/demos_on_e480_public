


ARM Macro Assembler    Page 1 


    1 00000000         ; asm3-8.s
    2 00000000                 THUMB                        ; Indicate THUMB co
                                                            de is used
    3 00000000                 PRESERVE8                    ; Indicate the code
                                                             here preserve 
    4 00000000         ; 8 byte stack alignment
    5 00000000                 AREA             |.text|, CODE, READONLY ; Start
                                                             of CODE area
    6 00000000                 IMPORT           |Image$$ER_IROM1$$RO$$Base| 
                                                            ; ROæ®µèµ·å§‹åœ°å€
                                                            
    7 00000000                 IMPORT           |Image$$ER_IROM1$$RO$$Limit| ; 
                                                            ROæ®µæœ«åœ°å€åé
                                                            ¢çš„åœ°å€,å³RWæ®µ
                                                            èµ·å§‹åœ°å€
    8 00000000                 IMPORT           |Image$$RW_IRAM1$$RW$$Base| ; R
                                                            Wæ®µåœ¨RAMé‡Œçš„è¿
                                                            è¡ŒåŒºèµ·å§‹åœ°å€
    9 00000000                 IMPORT           |Image$$RW_IRAM1$$RW$$Limit| ;R
                                                            Wæ®µåœ¨RAMé‡Œçš„è¿
                                                            è¡ŒåŒºæœ«åœ°å€åé
                                                            ¢çš„åœ°å€
   10 00000000                 IMPORT           |Image$$RW_IRAM1$$ZI$$Base| ; Z
                                                            Iæ®µåœ¨RAMé‡Œçš„è¿
                                                            è¡ŒåŒºèµ·å§‹åœ°å€
   11 00000000                 IMPORT           |Image$$RW_IRAM1$$ZI$$Limit| ;Z
                                                            Iæ®µåœ¨RAMé‡Œçš„è¿
                                                            è¡ŒåŒºæœ«åœ°å€åé
                                                            ¢çš„åœ°å€
   12 00000000                 EXPORT           MyMain
   13 00000000         MyMain  FUNCTION
   14 00000000         ; RWæ®µå’ŒZIæ®µåˆå§‹åŒ–ä»£ç ï¼ˆç¬¬25-41è¡Œï¼‰ï¼šå®Œæˆ
                       RWæ®µæ•°æ®çš„æ‹·è´å’ŒZIæ®µçš„æ¸…é›¶
   15 00000000         ; RWæ®µæ•°æ®çš„æ‹·è´ï¼šä»Imageé‡Œçš„åŠ è½½åŒºæ‹·è´åˆ
                       °RAMé‡Œè¿è¡ŒåŒºï¼ˆç¬¬26-34è¡Œï¼‰
   16 00000000 4815            LDR              r0,  =|Image$$ER_IROM1$$RO$$Lim
it|
   17 00000002 4916            LDR              r1,  =|Image$$RW_IRAM1$$RW$$Bas
e|
   18 00000004 4B16            LDR              r3,  =|Image$$RW_IRAM1$$ZI$$Bas
e|
   19 00000006         Init_RW
   20 00000006 4299            CMP              r1,  r3
   21 00000008 BF3C F850 
              2B04             LDRCC            r2,  [r0], #4
   22 0000000E F841 2B04       STRCC            r2,  [r1], #4
   23 00000012 D3F8            BCC              Init_RW
   24 00000014         ; ZIæ®µæ¸…é›¶ï¼šZIæ®µåœ¨RAMé‡Œçš„è¿è¡ŒåŒºå…¨éƒ¨æ¸…é›¶ï¼
                       ˆç¬¬35-41è¡Œï¼‰
   25 00000014 4913            LDR              r1,  =|Image$$RW_IRAM1$$ZI$$Lim
it|
   26 00000016 F04F 0200       MOV              r2,  #0
   27 0000001A         Init_ZI
   28 0000001A 428B            CMP              r3,  r1
   29 0000001C BF38 F843 
              2B04             STRCC            r2,  [r3],#4
   30 00000022 D3FA            BCC              Init_ZI
   31 00000024         
   32 00000024         ; åŠŸèƒ½ä»£ç ï¼šæ­¤å¤„è°ƒç”¨Cå‡½æ•°my_add_c



ARM Macro Assembler    Page 2 


   33 00000024 B50F            STMFD            SP!,  {R0-R3, LR} ;è°ƒç”¨è€…è´Ÿ
                                                            è´£å‹æ ˆä¿å­˜ R0-
                                                            R3, LRæ—§å€¼
   34 00000026 B430            STMFD            SP!,  {R4-R5} ;æœ¬å‡½æ•°ç”¨åˆ°ä
                                                            º†R4-R5,æ‰€ä»¥è´Ÿè´
                                                            £å‹æ ˆä¿å­˜R4-R5æ
                                                            —§å€¼
   35 00000028 F04F 0001       MOV              R0,  #1     ;ç¬¬1ä¸ªå‚æ•°(x1)
   36 0000002C F04F 0102       MOV              R1,  #2     ;ç¬¬2ä¸ªå‚æ•°(x2)
   37 00000030 F04F 0203       MOV              R2,  #3     ;ç¬¬3ä¸ªå‚æ•°(x3)
   38 00000034 F04F 0304       MOV              R3,  #4     ;ç¬¬4ä¸ªå‚æ•°(x4)
   39 00000038 F04F 0405       MOV              R4,  #5     ;ç¬¬5ä¸ªå‚æ•°(x5)
   40 0000003C F04F 0506       MOV              R5,  #6     ;ç¬¬6ä¸ªå‚æ•°(x6)
   41 00000040 B430            STMFD            SP!,  {R4-R5} ;æ³¨æ„å…¥æ ˆé¡ºå
                                                            ºï¼šx6å…ˆå…¥æ ˆï¼Œ
                                                            x5åå…¥æ ˆ
   42 00000042                 IMPORT           my_add_c    ;å¼•å…¥å…¶å®ƒæºæ–‡
                                                            ä»¶ä¸­çš„å‡½æ•°åm
                                                            y_add_c
   43 00000042 F7FF FFFE       BL               my_add_c    ;è°ƒç”¨my_add_cå‡½æ
                                                            •°ï¼Œè¿”å›ç»“æœä½
                                                            äºR0ä¸­
   44 00000046 4D08            LDR              R5,  = Result ;å–å¾—å˜é‡Resu
                                                            ltçš„åœ°å€
   45 00000048 6028            STR              R0,  [R5]   ;æŠŠmy_add_cå‡½æ•°è
                                                            ¿”å›ç»“æœå­˜å…¥å
                                                            ˜é‡Result
   46 0000004A B001            ADD              SP,  SP,  #4 ; æ¸…é™¤æ ˆä¸­å‚æ
                                                            •°x5,æœ¬è¯­å¥æ‰§è¡
                                                            Œå®ŒåSPæŒ‡å‘æ ˆä
                                                            ¸­å‚æ•°x6
   47 0000004C B001            ADD              SP,  SP,  #4 ; æ¸…é™¤æ ˆä¸­å‚æ
                                                            •°x6,æœ¬è¯­å¥æ‰§è¡
                                                            Œå®ŒåSPæŒ‡å‘æ ˆä
                                                            ¸­R4æ—§å€¼
   48 0000004E BC30            LDMFD            SP!,  { R4-R5} ; å¼¹æ ˆæ¢å¤R4
                                                            -R5æ—§å€¼
   49 00000050 E8BD 400F       LDMFD            SP!,  {R0-R3, LR} ; è°ƒç”¨è€…è´
                                                            Ÿè´£å¼¹æ ˆæ¢å¤R0-
                                                            R3, LRæ—§å€¼
   50 00000054         deadloop
   51 00000054 E7FE            B                deadloop    ; æ— é™å¾ªç¯
   52 00000056                 ENDFUNC
   53 00000056 BF00            NOP
   54 00000058         
   55 00000058 00000000 
              00000000 
              00000000 
              00000000 
              00000000         AREA             MyData, DATA, READWRITE ; å£°æ˜
                                                            MyDataæ•°æ®æ®µ
   56 00000000 00000000 
                       Result  DCD              0           ; è¯¥å˜é‡ç”¨äºä¿
                                                            å­˜my_add_cå‡½æ•°ç
                                                            š„è¿”å›å€¼
   57 00000004                 END
Command Line: --debug --xref --diag_suppress=9931 --cpu=Cortex-M4.fp --apcs=int
erwork --depend=.\objects\asm3-8.d -o.\objects\asm3-8.o -I.\RTE\_Target_1 -ID:\
Keil_v5\ARM\PACK\Keil\STM32F4xx_DFP\2.13.0\Drivers\CMSIS\Device\ST\STM32F4xx\In



ARM Macro Assembler    Page 3 


clude -ID:\Keil_v5\ARM\CMSIS\Include --predefine="__UVISION_VERSION SETA 526" -
-predefine="STM32F407xx SETA 1" --list=.\listings\asm3-8.lst asm3-8.s



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Relocatable symbols

.text 00000000

Symbol: .text
   Definitions
      At line 5 in file asm3-8.s
   Uses
      None
Comment: .text unused
Init_RW 00000006

Symbol: Init_RW
   Definitions
      At line 19 in file asm3-8.s
   Uses
      At line 23 in file asm3-8.s
Comment: Init_RW used once
Init_ZI 0000001A

Symbol: Init_ZI
   Definitions
      At line 27 in file asm3-8.s
   Uses
      At line 30 in file asm3-8.s
Comment: Init_ZI used once
MyMain 00000000

Symbol: MyMain
   Definitions
      At line 13 in file asm3-8.s
   Uses
      At line 12 in file asm3-8.s
Comment: MyMain used once
deadloop 00000054

Symbol: deadloop
   Definitions
      At line 50 in file asm3-8.s
   Uses
      At line 51 in file asm3-8.s
Comment: deadloop used once
5 symbols



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Relocatable symbols

MyData 00000000

Symbol: MyData
   Definitions
      At line 55 in file asm3-8.s
   Uses
      None
Comment: MyData unused
Result 00000000

Symbol: Result
   Definitions
      At line 56 in file asm3-8.s
   Uses
      At line 44 in file asm3-8.s
Comment: Result used once
2 symbols



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
External symbols

Image$$ER_IROM1$$RO$$Base 00000000

Symbol: Image$$ER_IROM1$$RO$$Base
   Definitions
      At line 6 in file asm3-8.s
   Uses
      None
Comment: Image$$ER_IROM1$$RO$$Base unused
Image$$ER_IROM1$$RO$$Limit 00000000

Symbol: Image$$ER_IROM1$$RO$$Limit
   Definitions
      At line 7 in file asm3-8.s
   Uses
      At line 16 in file asm3-8.s
Comment: Image$$ER_IROM1$$RO$$Limit used once
Image$$RW_IRAM1$$RW$$Base 00000000

Symbol: Image$$RW_IRAM1$$RW$$Base
   Definitions
      At line 8 in file asm3-8.s
   Uses
      At line 17 in file asm3-8.s
Comment: Image$$RW_IRAM1$$RW$$Base used once
Image$$RW_IRAM1$$RW$$Limit 00000000

Symbol: Image$$RW_IRAM1$$RW$$Limit
   Definitions
      At line 9 in file asm3-8.s
   Uses
      None
Comment: Image$$RW_IRAM1$$RW$$Limit unused
Image$$RW_IRAM1$$ZI$$Base 00000000

Symbol: Image$$RW_IRAM1$$ZI$$Base
   Definitions
      At line 10 in file asm3-8.s
   Uses
      At line 18 in file asm3-8.s
Comment: Image$$RW_IRAM1$$ZI$$Base used once
Image$$RW_IRAM1$$ZI$$Limit 00000000

Symbol: Image$$RW_IRAM1$$ZI$$Limit
   Definitions
      At line 11 in file asm3-8.s
   Uses
      At line 25 in file asm3-8.s
Comment: Image$$RW_IRAM1$$ZI$$Limit used once
my_add_c 00000000

Symbol: my_add_c
   Definitions
      At line 42 in file asm3-8.s
   Uses
      At line 43 in file asm3-8.s
Comment: my_add_c used once
7 symbols
349 symbols in table
